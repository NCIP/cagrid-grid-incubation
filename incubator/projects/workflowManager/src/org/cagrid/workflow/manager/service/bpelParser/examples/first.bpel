<?xml version="1.0" encoding="UTF-8" ?>
<process name="jungleFlow" targetNamespace="http://first.cagrid.org/First" xmlns:tns="jrn:jungle:jungleService" xmlns:firstService="http://first.cagrid.org/First" xmlns="http://schemas.xmlsoap.org/ws/2003/03/business-process/">
	<!--The <variables> section defines the data variables used by the process, providing their definitions in terms of WSDL message types, XML Schema simple types, or XML Schema elements. Variables allow processes to maintain state data and process history based on messages exchanged.-->
	<variables>
		<variable name="firstReceive" messageType="first:PrintRequest" />
		<variable name="firstResponse" messageType="first:PrintResponse" />
	</variables>
	<partnerLinks>
		<partnerLink name="User" partnerLinkType="tns:UserSLT" />
		<partnerLink name="firstService" partnerLinkType="tns:helloSLT" />
	</partnerLinks>
	<sequence name="sequence">
		<receive name="receiveRequest" partnerLink="User" portType="" operation="" variable="" createInstance="yes" />
		<assign>
			<copy>
				<from expression="'1'" />
				<to variable="addReceive" part="op1" />
			</copy>
		</assign>

		<!-- create input message required by news service -->
		<invoke name="invokeFirst" partnerLink="firstService" portType="First:bla" operation="PrintRequest" inputVariable="firstReceive" outputVariable="firstResponse" />
		<!-- respond to the user -->
		<reply name="sendResult" partnerLink="User" portType="tns:UserPT" operation="gauss" variable="firstResponse" />
	</sequence>
</process>	
